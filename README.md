# Лабиринт на Pygame

## Назначение

Это простая игра-лабиринт, созданная с использованием библиотеки Pygame. В игре управляется персонаж, который должен собирать звезды, избегать врагов и дойти до выхода (двери). Игра предназначена для обучения основам разработки игр на Python и Pygame.

## Функционал

- Управление персонажем с помощью стрелок (влево, вправо, вверх, вниз).
- Собирание звезд для выхода из двери и завершения уровня.
- Избегание врагов, движущихся по заранее заданным траекториям.
- Стены и препятствия, создающие лабиринт.
- Дверь, которая открывается после сбора всех звезд, — позволяет завершить уровень.
- Конец игры при столкновении с врагами или при сборе всех звезд и выходе через открытую дверь.

## Установка

1. Убедитесь, что у вас установлен актуальная версия Python.
2. Установите библиотеку Pygame:

```bash
pip install pygame
```

3. Скачайте или склонируйте проект к себе.
4. Поместите все необходимые изображения в папку проекта:
   - `фон1.jpg`
   - `geroy.png`
   - `zvezda.png`
   - `vrag.png`
   - `game_over.png`
   - `win.jpg`

5. Запустите игру командой:

```bash
python имя_вашего_скрипта.py
```

## Управление персонажем

**Действия:**
- Используйте стрелки на клавиатуре:
  - Влево (←) — перемещение влево
  - Вправо (→) — перемещение вправо
  - Вверх (↑) — движение вверх
  - Вниз (↓) — движение вниз

**Обработка:** 
- В коде реализовано управление через метод `smena()` класса `Caracters`.
- При нажатии клавиш персонаж двигается с заданной скоростью.
- Столкновения со стенами отменяют движение, возвращая персонажа в прежние координаты.

```python
geroy.smena()
if any(sprite.collide_rect(geroy, wall) for wall in walls):
    geroy.rect.x, geroy.rect.y = old_x, old_y
geroy.see()
```
---

## Собирание звёзд

**Действия:**
- Подойти к звезде и столкнуться с ней — она исчезает, добавляя очки.
- Каждая собранная звезда увеличивает счетчик (`score`).

**Реализация:**
- В коде реализована проверка столкновений между персонажем и звездами:
  
```python
for star in stars:
    if sprite.collide_rect(geroy, star):
        stars.remove(star)
        star.kill()
        score += 1
```

**Результат:** прогресс отображается на экране в виде текста "Звезд: X".

---

## Победа и завершение уровня

**Условия:**
- Все звезды собраны (`len(stars) == 0`).
- Дверь автоматически открывается (`door_open = True`).
- Игрок подходит к двери и сталкивается с ней (`sprite.collide_rect(geroy, door_rect)`).

**Действия:**
- После касания двери выводится экран победы (`win.jpg`).
- Игра завершается через 3 секунды.

**Код:**

```python
if len(stars) == 0:
    all_collected = True
    door_open = True

if door_open and sprite.collide_rect(geroy, door_rect):
    background1 = image.load("win.jpg")
    background1 = transform.scale(background1, (810, 800))
    window.blit(background1, (0, 0))
    display.update()
    time.delay(3000)
    run = False
```
---

## Проигрыш (потеря)

**Условия:**
- Персонаж сталкивается с врагами (`vrag1`, `vrag2`, `vrag3`).

**Действия:**
- При столкновении выводится изображение "game over" (`game_over.png`).
- Игра завершается через 1 секунду.

**Код:**

```python
if sprite.collide_rect(geroy, vrag1) or sprite.collide_rect(geroy, vrag2) or sprite.collide_rect(geroy, vrag3):
    background1 = image.load("game_over.png")
    background1 = transform.scale(background1, (810, 800))
    window.blit(background1, (0, 0))
    display.update()
    time.delay(1000)
    run = False
```

## Расширение или модификация сценариев

**Для разработчиков или любителей:**
- Можно добавлять новые враги, изменяя их движение.
- Создавать новые уровни, добавляя дополнительные стены и препятствия.
- Реализовать сохранение результатов или уровней.
- Добавлять новые объекты и функции по желанию.

